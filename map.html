<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<html >
  <head>
  	 <meta charset="utf-8">
    <title>好友位置</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
  </head>
  <body>
     <div class="row">
      <div class="map span9 text-center">
      	<p id="demo">点击这个按钮，获得您的坐标：</p>
		<button onclick="getLocation()">试一下</button>
        <div class="span9 text-center">
     
		</div>
      </div>	
     </div>
    
    <script>
	var x=document.getElementById("demo");
	function getLocation()
	  {
	  if (navigator.geolocation)
		{
		navigator.geolocation.getCurrentPosition(showPosition);
		}
	  else{x.innerHTML="Geolocation is not supported by this browser.";}
	  }
	function showPosition(position)
	  {
	    url ="map_tmp.html?lat="+position.coords.latitude+"&long="+position.coords.longitude;
	    x.innerHTML = url;
	   window.location.href=url;
	  }
	  function showError(error)
	  {
	  switch(error.code)
		{
		case error.PERMISSION_DENIED:
		  x.innerHTML="User denied the request for Geolocation."
		  break;
		case error.POSITION_UNAVAILABLE:
		  x.innerHTML="Location information is unavailable."
		  break;
		case error.TIMEOUT:
		  x.innerHTML="The request to get user location timed out."
		  break;
		case error.UNKNOWN_ERROR:
		  x.innerHTML="An unknown error occurred."
		  break;
		}
	  }
	</script>
    
    
    <script src="http://code.jquery.com/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>